{"ast":null,"code":"import _asyncToGenerator from \"/home/joshet/Documentos/proyectos/completo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Categoria } from '../../../modelo/categoria.class';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GestionCategoriaservice {\n  constructor(http) {\n    this.http = http;\n  }\n\n  agregarcategoria(nombreCategoria) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const nuevacategoria = new Categoria(0, nombreCategoria);\n\n      _this.http.post('http://localhost:8080/api/categoria', nuevacategoria).subscribe();\n\n      const promesa = _this.http.post('http://localhost:8080/api/categoria', nuevacategoria).toPromise();\n\n      return promesa.then(value => {\n        return true;\n      });\n\n      _this.http.get('http://localhost:8080/api/categoria').subscribe(resp => {\n        GestionCategoriaservice.categorias = resp;\n      });\n    })();\n  }\n\n  eliminarcategoria(eliminacion) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      for (let i = 0; eliminacion.length > i; i++) {\n        _this2.http.delete('http://localhost:8080/api/categoria' + '/' + eliminacion[i]).subscribe();\n      }\n    })();\n  }\n\n  get categorias() {\n    return GestionCategoriaservice.categorias;\n  }\n\n  listarCategoria() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.http.get('http://localhost:8080/api/categoria').subscribe(resp => {\n        GestionCategoriaservice.categorias = resp;\n      });\n    })();\n  }\n\n  actualizarCategoria(codcategoria, nombreCategoria) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      const nuevacategoria = new Categoria(codcategoria, nombreCategoria);\n\n      _this4.http.put('http://127.0.0.1:8080/api/categoria' + '/' + codcategoria, nuevacategoria).subscribe();\n    })();\n  }\n\n}\nGestionCategoriaservice.categorias = [];\n\nGestionCategoriaservice.ɵfac = function GestionCategoriaservice_Factory(t) {\n  return new (t || GestionCategoriaservice)(i0.ɵɵinject(i1.HttpClient));\n};\n\nGestionCategoriaservice.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GestionCategoriaservice,\n  factory: GestionCategoriaservice.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/home/joshet/Documentos/proyectos/completo/src/app/gestion/gestion-categoria-main/services/gestion-categoria.service.ts"],"names":[],"mappings":";AACA,SAAS,SAAT,QAA0B,iCAA1B;;;AASA,OAAM,MAAO,uBAAP,CAA8B;AAChC,EAAA,WAAA,CAAoB,IAApB,EAAmC;AAAf,SAAA,IAAA,GAAA,IAAA;AAAkB;;AAGhC,EAAA,gBAAgB,CAAC,eAAD,EAAuB;AAAA;;AAAA;AACzC,YAAM,cAAc,GAAW,IAAI,SAAJ,CAAc,CAAd,EAAgB,eAAhB,CAA/B;;AACA,MAAA,KAAI,CAAC,IAAL,CAAU,IAAV,CAA4B,qCAA5B,EAAkE,cAAlE,EAAkF,SAAlF;;AACA,YAAM,OAAO,GAAG,KAAI,CAAC,IAAL,CAAU,IAAV,CAAoB,qCAApB,EAA0D,cAA1D,EAA0E,SAA1E,EAAhB;;AACA,aAAO,OAAO,CAAC,IAAR,CAAa,KAAK,IAAG;AAAC,eAAO,IAAP;AAAY,OAAlC,CAAP;;AACA,MAAA,KAAI,CAAC,IAAL,CAAU,GAAV,CAA2B,qCAA3B,EAAkE,SAAlE,CAA6E,IAAD,IAAoB;AAAC,QAAA,uBAAuB,CAAC,UAAxB,GAAmC,IAAnC;AAAwC,OAAzI;AALyC;AAM5C;;AAEK,EAAA,iBAAiB,CAAC,WAAD,EAAqB;AAAA;;AAAA;AAExC,WAAI,IAAI,CAAC,GAAQ,CAAjB,EAAmB,WAAW,CAAC,MAAZ,GAAmB,CAAtC,EAAwC,CAAC,EAAzC,EAA4C;AACxC,QAAA,MAAI,CAAC,IAAL,CAAU,MAAV,CAAiB,wCAAsC,GAAtC,GAA0C,WAAW,CAAC,CAAD,CAAtE,EAA2E,SAA3E;AACD;AAJqC;AAK3C;;AAEa,MAAV,UAAU,GAAA;AACV,WAAO,uBAAuB,CAAC,UAA/B;AACH;;AACK,EAAA,eAAe,GAAA;AAAA;;AAAA;AACjB,MAAA,MAAI,CAAC,IAAL,CAAU,GAAV,CAA2B,qCAA3B,EAAkE,SAAlE,CAA6E,IAAD,IAAoB;AAAC,QAAA,uBAAuB,CAAC,UAAxB,GAAmC,IAAnC;AAAwC,OAAzI;AADiB;AAEpB;;AACK,EAAA,mBAAmB,CAAC,YAAD,EAAqB,eAArB,EAA2C;AAAA;;AAAA;AAChE,YAAM,cAAc,GAAW,IAAI,SAAJ,CAAc,YAAd,EAA2B,eAA3B,CAA/B;;AACA,MAAA,MAAI,CAAC,IAAL,CAAU,GAAV,CAAmB,wCAAwC,GAAxC,GAA8C,YAAjE,EAA+E,cAA/E,EAA+F,SAA/F;AAFgE;AAGnE;;AA5B+B;AAkBlB,uBAAA,CAAA,UAAA,GAAuB,EAAvB;;;mBAlBL,uB,EAAuB,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,UAAA,C;AAAA,C;;;SAAvB,uB;AAAuB,EAAA,OAAA,EAAvB,uBAAuB,CAAA,I;AAAA,EAAA,UAAA,EAHrB","sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { Categoria } from '../../../modelo/categoria.class';\nimport { HttpClient} from '@angular/common/http';\nimport { GestionCategoriaMainComponent } from '../gestion-categoria-main.component';\n\n\n@Injectable({\n    providedIn:'root'\n}\n)\nexport class GestionCategoriaservice{\n    constructor(private http:HttpClient){}\n\n\n    async agregarcategoria(nombreCategoria:String){\n        const nuevacategoria:Categoria=new Categoria(0,nombreCategoria)\n        this.http.post<Categoria[]>('http://localhost:8080/api/categoria',nuevacategoria).subscribe();\n        const promesa = this.http.post<any>('http://localhost:8080/api/categoria',nuevacategoria).toPromise();\n        return promesa.then(value =>{return true});\n        this.http.get<Categoria[]>('http://localhost:8080/api/categoria').subscribe((resp:Categoria[])=>{GestionCategoriaservice.categorias=resp});\n    }\n\n    async eliminarcategoria(eliminacion:number[]){\n        \n        for(let i:number=0;eliminacion.length>i;i++){\n            this.http.delete('http://localhost:8080/api/categoria'+'/'+eliminacion[i]).subscribe();\n          }\n    }\n    public static categorias:Categoria[]=[];\n    get categorias(){\n        return GestionCategoriaservice.categorias\n    }\n    async listarCategoria(){\n        this.http.get<Categoria[]>('http://localhost:8080/api/categoria').subscribe((resp:Categoria[])=>{GestionCategoriaservice.categorias=resp});\n    }\n    async actualizarCategoria(codcategoria:number,nombreCategoria:String){\n        const nuevacategoria:Categoria=new Categoria(codcategoria,nombreCategoria)\n        this.http.put<any>('http://127.0.0.1:8080/api/categoria' + '/' + codcategoria, nuevacategoria).subscribe();\n    }\n}"],"sourceRoot":""},"metadata":{},"sourceType":"module"}